{% extends "base.html" %}

{% block title %}
    <title>Editar Encuesta '{{ poll['title'] }}' - EUS</title>
    <meta property="og:title" content="EUS - Egresados Universidad de Sucre"/>
{% endblock %}

{% block content %}
    <div class="container container--flex" data-container="add-poll">
        <div class="left-container">
            <a class="section-selector section-selector--active" href="{{ url_for('index', section='poll') }}"
               onclick="return confirm_submit('Back');">
                <svg class="section-selector__icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
                     width="512" height="512" viewBox="0 0 512 512">
                    <path fill="#abadbb" d="M0 416h512v64h-512zM64 288h64v96h-64zM160 160h64v224h-64zM256 256h64v128h-64zM352 64h64v320h-64z"></path>
                </svg>
                Encuestas
            </a>
            <a class="section-selector" href="{{ url_for('index', section='post') }}"
               onclick="return confirm_submit('Back');">
                <svg class="section-selector__icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
                     width="512" height="512" viewBox="0 0 512 512">
                    <path fill="#abadbb" d="M448 128v-64h-448v352c0 17.673 14.327 32 32 32h432c26.511 0 48-21.489 48-48v-272h-64zM416 416h-384v-320h384v320zM64 160h320v32h-320zM256 224h128v32h-128zM256 288h128v32h-128zM256 352h96v32h-96zM64 224h160v160h-160z"></path>
                </svg>
                Noticias
            </a>
        </div>
        <div class="right-container">
            <div class="go-back__container">
                <a class="go-back__btn" href="{{ url_for('index') }}" onclick="return confirm_submit('Back');">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 612.077 612.077" style="enable-background:new 0 0 612.077 612.077;" xml:space="preserve">
                        <g>
                            <path fill="#15431F" d="M306.037,0.001C136.997,0.001,0,136.999,0,306.039s137.813,306.037,306.037,306.037s306.037-136.997,306.037-306.037   C612.816,136.999,475.077,0.001,306.037,0.001z M306.037,582.332c-152.203,0-276.368-124.165-276.368-276.368   S153.834,29.596,306.037,29.596s276.368,124.165,276.368,276.368S459.056,582.332,306.037,582.332z M462.245,305.964   c0,8.011-6.379,14.39-14.39,14.39H213.099l83.296,83.296c5.637,5.637,5.637,15.205,0,20.843c-3.189,3.189-6.379,4.005-10.384,4.005   c-4.005,0-7.195-1.632-10.384-4.005l-108.96-108.07c-0.816-0.816-1.632-1.632-1.632-2.374l-0.816-0.816   c0-0.816-0.816-0.816-0.816-1.632c0-0.816,0-0.816-0.816-1.632c0-0.816,0-0.816,0-1.632c0-1.632,0-4.005,0-5.637   c0-0.816,0-0.816,0-1.632s0-0.816,0.816-1.632c0-0.816,0.816-0.816,0.816-1.632c0,0,0-0.816,0.816-0.816   c0.816-0.816,0.816-1.632,1.632-2.374L276.442,184.84c5.637-5.637,15.205-5.637,20.843,0c5.637,5.637,5.637,15.205,0,20.843   l-84.186,85.076h234.683C455.792,290.759,462.245,297.954,462.245,305.964z"></path>
                        </g>
                    </svg>
                </a>
            </div>
            <form class="form__poll" action="{{ url_for('polls.edit_poll', poll_id=poll['_id']) }}" method="post">
                {{ form.hidden_tag() }}
                <div class="form__poll-title-container">
                    <input class="form__poll-title" id="title" name="title" type="text"
                           value="{{ poll['title'] }}" placeholder="Título">
                </div>
                <div class="form__poll-new-questions-container">
                    {% for question in poll['questions'] %}
                        {% set questionNo = loop.index %}
                        <div class="form__poll-new-question" data-question="question_{{ questionNo }}">
                                <div class="form__edit-question-type">
                                <svg version="1.1" xmlns="http://www.w3.org/2000/svg"
                                     xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                     viewBox="0 0 919.8 919.8" style="enable-background:new 0 0 919.8 919.8;"
                                     xml:space="preserve">
                                    <g>
                                        <path fill="#15431F" d="M684.833,209.4l27-33.8c37-46.2,29.5-113.7-16.801-150.7l-1.699-1.4c-46.2-37-113.7-29.5-150.7,16.8l-26.9,33.7
                                            L684.833,209.4z"></path>
                                        <path fill="#15431F" d="M520.532,493.5c0.9,8.199,5,16,11.9,21.6c13.9,11.1,34.2,8.9,45.3-5l185.5-232c11.3-14.1,8.8-34.8-5.7-45.8
                                            c-14-10.6-34.1-7.6-45.1,6.1l-18.1,22.6l-31-24.8l0.1-0.1l-169-135.5l-432.4,540.5l169.1,135.4l392.1-490l31,24.8l-126.8,158.5
                                            C521.833,476.699,519.633,485.3,520.532,493.5z"></path>
                                        <path fill="#15431F" d="M203.032,801.5l-159.3-127.601c-2.6,8.9-3.9,16.7-3.9,16.7l-36.5,174.8c-2.6,12.601,10.2,22.9,21.9,17.5l162.6-74
                                            C187.732,808.899,194.932,805.899,203.032,801.5z"></path>
                                        <path fill="#15431F" d="M893.633,832.8c-1.4,0-2.7,0.1-4.101,0.3l-245.699,31.8c-12.601,1.601-21.4-12.2-14.601-23c3.7-5.7,7.3-11.5,10.9-17.3
                                            c9.5-15.4-3.2-35.9-20.8-35.9c-1.2,0-2.4,0.101-3.7,0.301l-322,48.399l-38.5,5.8l-105,15.801c-11.9,1.8-19.9,11.899-18.9,24
                                            c0.4,5.399,2.6,10.5,6.1,14.3c4.1,4.5,9.8,7,16,7c1.2,0,2.4-0.101,3.7-0.3l383.801-57.7c13.1-2,22.1,12.8,14.399,23.6
                                            c-2.5,3.4-5,6.9-7.5,10.3c-6.899,9.4-5.3,25.101,2.7,33.2c4.1,4.2,9.3,6.4,14.8,6.4c0.601,0,1.3,0,1.9-0.101h0.1h0.101
                                            l331.3-42.199h0.1h0.101c5.699-0.9,10.699-4.2,14-9.301c3.6-5.6,4.899-12.5,3.3-18.699
                                            C913.532,839.399,904.732,832.8,893.633,832.8z"></path>
                                    </g>
                                </svg>
                            </div>
                            <div class="form__delete-question">
                                <svg class="poll__delete-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
                                    <path fill="#c00" d="M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"></path>
                                </svg>
                            </div>
                            <p class="form__poll-new-question-title">
                                Pregunta {{ questionNo }}
                            </p>
                            <input class="form__poll-new-question-type" type="checkbox" name="q_type"
                                   value="{{ question['type'] }}" checked>
                            <textarea class="form__poll-new-question-content" name="q_content">{{ question['content'] }}</textarea>
                            <div class="form__input-answers" data-answer="{{ question['type'] }}">
                                {% if question['type'] == 'boolean' %}
                                    <fieldset class="form__answer-group">
                                        <input class="form__answer" type="radio" disabled="">
                                        <input class="form__answer-label" type="text" value="Verdadero"
                                               name="answer_question_{{ questionNo }}" style="display:none;"> Verdadero<br>
                                        <input class="form__answer" type="radio" disabled="">
                                        <input class="form__answer-label" type="text" value="Falso"
                                               name="answer_question_{{ questionNo }}" style="display:none;"> Falso
                                    </fieldset>
                                {% elif question['type'] == 'options' %}
                                    <fieldset class="form__answer-group" data-type="radio">
                                        {% for option in question['options'] %}
                                            <div class="form__answer-container">
                                                <input class="form__answer" type="radio" disabled="">
                                                <input class="form__answer-label" type="text"
                                                       name="answer_question_{{ questionNo }}"
                                                       placeholder="Respuesta..." value="{{ option }}">
                                                {% if loop.index > 2 %}
                                                    <div class="form__answer-delete">
                                                        <svg class="poll__delete-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
                                                            <path fill="#c00" d="M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"></path>
                                                        </svg>
                                                    </div>
                                                {% endif %}
                                            </div>
                                        {% endfor %}
                                    </fieldset>
                                    <div class="form__answer-add-container">
                                        <div class="form__answer-add-btn">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="640" height="640" viewBox="0 0 640 640">
                                                <path fill="#15431F" d="M352 288v-128h-64v128h-128v64h128v128h64v-128h128v-64h-128zM320 640c-176.731 0-320-143.269-320-320s143.269-320 320-320v0c176.731 0 320 143.269 320 320s-143.269 320-320 320v0z"></path>
                                            </svg>
                                        </div>
                                    </div>
                                {% elif question['type'] == 'multiple' %}
                                    <fieldset class="form__answer-group" data-type="checkbox">
                                        {% for option in question['options'] %}
                                            <div class="form__answer-container">
                                                <input class="form__answer" type="checkbox" disabled="">
                                                <input class="form__answer-label" type="text"
                                                       name="answer_question_{{ questionNo }}"
                                                       placeholder="Respuesta..." value="{{ option }}">
                                                {% if loop.index > 2 %}
                                                    <div class="form__answer-delete">
                                                        <svg class="poll__delete-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
                                                            <path fill="#c00" d="M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"></path>
                                                        </svg>
                                                    </div>
                                                {% endif %}
                                            </div>
                                        {% endfor %}
                                    </fieldset>
                                    <div class="form__answer-add-container">
                                        <div class="form__answer-add-btn">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="640" height="640" viewBox="0 0 640 640">
                                                <path fill="#15431F" d="M352 288v-128h-64v128h-128v64h128v128h64v-128h128v-64h-128zM320 640c-176.731 0-320-143.269-320-320s143.269-320 320-320v0c176.731 0 320 143.269 320 320s-143.269 320-320 320v0z"></path>
                                            </svg>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                    <div class="form__question-types" data-question="question_1">
                        <p class="form__question-types-text">
                            Tipo de respuesta:
                        </p>
                        <p class="form__question-types-title"></p>
                        <fieldset id="questionType">
                            <input class="form__question-type" type="radio" value="open" name="questionType"> Respuesta abierta<br>
                            <input class="form__question-type" type="radio" value="pharagraf" name="questionType"> Parrafo<br>
                            <input class="form__question-type" type="radio" value="boolean" name="questionType"> Verdadero o falso<br>
                            <input class="form__question-type" type="radio" value="options" name="questionType"> Opción múltiple (respuesta única)<br>
                            <input class="form__question-type" type="radio" value="multiple" name="questionType"> Selección múltiple
                        </fieldset>
                        <div class="form__question-types-buttons">
                            <p class="form__question-types-btn form__question-types-btn--cancel">Cancelar</p>
                            <p class="form__question-types-btn form__question-types-btn--confirm">Confirmar</p>
                        </div>
                    </div>

                    <div class="form__poll-new-question-add-container">
                        <div class="form__poll-new-question-add-btn">
                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="640" height="640" viewBox="0 0 640 640">
                                <path fill="#15431F" d="M352 288v-128h-64v128h-128v64h128v128h64v-128h128v-64h-128zM320 640c-176.731 0-320-143.269-320-320s143.269-320 320-320v0c176.731 0 320 143.269 320 320s-143.269 320-320 320v0z"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="form__poll-submit-container">
                        <a class="form__post-submit form__post-submit--cancel" href="{{ url_for('index') }}"
                           onclick="return confirm_submit('Cancelar');">Cancelar</a>
                        <input class="form__post-submit" type="submit" name="submit" value="Guardar"
                               onclick="return confirm_submit('Guardar');">
                        <input class="form__post-submit" type="submit" name="submit" value="Publicar"
                               onclick="return confirm_submit('Publicar');">
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}